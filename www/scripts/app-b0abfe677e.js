"use strict";angular.module("Kinopoisk",["ionic","ngCordova","ngResource","restangular"]).run(["$ionicPlatform","Restangular","API_CONFIG","$ionicLoading",function(n,t,e,o){t.setBaseUrl(e.host).setFullResponse(!0),t.addRequestInterceptor(function(n){return o.show(),n}),t.addResponseInterceptor(function(n,t){return o.hide(),n}),t.setErrorInterceptor(function(n){return o.hide(),400===n.status||401===n.status||403===n.status?n:void 0}),n.ready(function(){})}]).config(["$httpProvider","$stateProvider","$urlRouterProvider",function(n,t,e){t.state("app",{url:"/app","abstract":!0,templateUrl:"templates/main.html",controller:"MainController"}).state("app.home",{url:"/home",cache:!0,views:{viewContent:{templateUrl:"templates/views/top-list.html",controller:"TopListController",controllerAs:"topList"}}}).state("app.settings",{url:"/settings",cache:!0,views:{viewContent:{templateUrl:"templates/views/settings.html",controller:"SettingsController"}}}),e.otherwise("/app/home")}]),angular.module("Kinopoisk").constant("API_CONFIG",{host:"http://localhost:8100/imdb/",token:"1c772155-c511-4fdd-a637-9a3aaa8ddb0c"}),angular.module("Kinopoisk").controller("MainController",["$scope",function(n){}]),angular.module("Kinopoisk").controller("SettingsController",["$scope",function(n){}]),angular.module("Kinopoisk").controller("TopListController",["IMDBService",function(n){this.fetchTopList=function(){n.getTop20().then(function(n){console.log(n)})}}]),angular.module("Kinopoisk").factory("ApiService",["$window","$http","API_ENDPOINT",function(n,t,e){var o=e,i=o.port?o.host+":"+o.port+o.path:o.host+o.path;return o.needsAuth&&(t.defaults.headers.common.Authorization="Basic "+n.btoa(o.username+":"+o.password)),{getEndpoint:function(){return i}}}]),angular.module("Kinopoisk").factory("IMDBService",["Restangular","API_CONFIG","$q",function(n,t,e){function o(){var e={start:1,end:20,token:t.token,format:"json",data:0};return n.all().customGET("top",e)}return{getTop20:o}}]),angular.module("Kinopoisk").factory("_",["$window",function(n){return n._}]),angular.module("Kinopoisk").run(["$templateCache",function(n){n.put("templates/main.html",'<ion-side-menus>\n    <!-- Center content -->\n    <ion-side-menu-content>\n\n        <ion-nav-view name="viewContent">\n\n        </ion-nav-view>\n    </ion-side-menu-content>\n\n    <!-- Left menu -->\n    <ion-side-menu side="left" class="side-menu">\n\n        <ion-header-bar align-title="center" class="bar-positive">\n            <h1 class="title">Side Menu</h1>\n        </ion-header-bar>\n\n        <ion-content class="has-header">\n            <div class="list">\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.home">\n                    <i class="icon ion-ios-film"></i>\n                    Top 20 the best films\n                </a>\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.settings">\n                    <i class="icon ion-settings"></i>\n                    Settings\n                </a>\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.settings">\n                    <i class="icon ion-settings"></i>\n                    Settings\n                </a>\n            </div>\n        </ion-content>\n    </ion-side-menu>\n</ion-side-menus>\n'),n.put("templates/views/settings.html",'<ion-view>\n    <ion-header-bar align-title="center" class="bar-positive">\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\n        <h1 class="title">Settings</h1>\n    </ion-header-bar>\n\n    <ion-content>\n        <div class="list">\n\n            <!-- connect toggles to controller using ng-model -->\n\n            <ion-toggle>\n                <span class="settings-item__text">\n                    Allow Push Notifications\n                </span>\n            </ion-toggle>\n\n            <ion-toggle>\n                <span class="settings-item__text">\n                    Allow cookies\n                </span>\n            </ion-toggle>\n\n        </div>\n    </ion-content>\n\n</ion-view>\n'),n.put("templates/views/top-list.html",'<ion-view>\n    <ion-header-bar align-title="center" class="bar-positive">\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\n        <h1 class="title">kinopoisk</h1>\n    </ion-header-bar>\n\n    <ion-content>\n        Top 20 the best films\n      <button class="button button-balanced" ng-click="topList.fetchTopList()">get films</button>\n    </ion-content>\n\n</ion-view>\n')}]);